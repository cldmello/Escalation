{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}ML Leaderboard{% endblock %}</h1>
{% endblock %}

{% block content %}
<div class="leaderboard">
  <table id="leaderboard_table" class="compact hover order-column row-border" style="width:100%; max-width:1400px">
    <thead>
      <th>Posted</th>            
      <th>Name</th>      
      <th>Dataset</th>
      <th>Author</th>
      <th>Accuracy</th>
      <th>Balanced Accuracy</th>
      <th>AUC</th>
      <th>Avg. Precision</th>
      <th>F1 score</th>
      <th>Precision</th>
      <th>Recall</th>      
      <th>Samples in train</th>
      <th>Samples in test</th>
      <th>Run ID</th>      
      <th>Description</th>                  
    </thead>
    <tbody>
    {% for r in table %}
    <tr>
      <td> {{ r['created'] }} </td>            
      <td> {{ r['model_name'] }} </td>      
      <td> {{ r['dataset_name'] }} </td>
      <td> {{ r['model_author'] }} </td>
      <td> {{ r['accuracy'] }} </td>
      <td> {{ r['balanced_accuracy'] }} </td>
      <td> {{ r['auc_score'] }} </td>
      <td> {{ r['average_precision'] }} </td>
      <td> {{ r['f1_score'] }} </td>
      <td> {{ r['precision'] }} </td>
      <td> {{ r['recall'] }} </td>      
      <td> {{ r['samples_in_train'] }} </td>
      <td> {{ r['samples_in_test'] }} </td>
      <td> {{ r['run_id'] }} </td>
      <td> {{ r['model_description'] }} </td>                  
    </tr>
    {% endfor %}
    </tbody>
  </table>
    

<script>
$(document).ready(function() {
$('#leaderboard_table').DataTable( {
        "order": [[ 0, "desc" ]],
  }
  );
  } );

</script>
</div>

<form method="post">
  <input type="submit" value="Download CSV" name="submit">
</form>
{% endblock %}
